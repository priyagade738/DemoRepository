package com.gofly.in.GoFlyApp.controller;



import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

import com.gofly.in.GoFlyApp.Entity.GoFlyAdminEntity;
import com.gofly.in.GoFlyApp.serviceI.GoFlyAdminServiceI;

@RequestMapping("/Admin-service")
@RestController
public class GoFlyAdminController {
	private static final Logger log=LoggerFactory.getLogger(GoFlyAdminController.class);
	
@Autowired
GoFlyAdminServiceI s;

//@RequestMapping(value="POST")
@PostMapping(value="add/flight")
private ResponseEntity<String> addNewFlight(@RequestBody GoFlyAdminEntity flight)
{
	//Without logger
	//String responce=s.addFlight(flight);
	//return new ResponseEntity<>(responce,HttpStatus.CREATED); 
	String responce="Invalid flight!";
    HttpStatus status=HttpStatus.BAD_REQUEST;
    log.info("Success");
    if(flight!=null)
    {
    	responce=s.addFlight(flight);
    	status=HttpStatus.CREATED;
    }
	return new ResponseEntity<String>(responce,status);
	
}

	
	
}
